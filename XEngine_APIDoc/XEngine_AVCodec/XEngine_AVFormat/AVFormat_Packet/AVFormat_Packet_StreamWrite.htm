<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>AVFormat_Packet_StreamWrite</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body>
<H1 >
 函数</H1>
<P >
  AVFormat_Packet_StreamWrite</P>

<H1>功能</H1> 
 <P>             写入媒体数据</P>
<H1>语法</H1>
<P>extern "C" bool AVFormat_Packet_StreamWrite(XHANDLE 
xhNet, int nAVIndex, LPCXBTR lpszMSGBuffer, int nMSGLen, AVCODEC_TIMESTAMP* 
pSt_PacketInfo = NULL, double* pdlAVTime = NULL, bool bWait =    
      false, 
bool bChanged = false)</P>
<P></P>
<P></P>
<P></P>
<H1>参数</H1>
<P>&nbsp;参数.一：xhNet<BR>&nbsp; In/Out：In<BR>&nbsp; 
类型：句柄<BR>&nbsp; 可空：N<BR>&nbsp; 意思：要操作的句柄<BR>&nbsp;参数.二：nAVIndex<BR>&nbsp; 
In/Out：In<BR>&nbsp; 类型：整数型<BR>&nbsp; 可空：N<BR>&nbsp; 
意思：数据的媒体索引<BR>&nbsp;参数.三：lpszMSGBuffer<BR>&nbsp; In/Out：Out<BR>&nbsp; 
类型：常量字符指针<BR>&nbsp; 可空：N<BR>&nbsp; 意思：输入要写的媒体数据<BR>&nbsp;参数.四：nMSGLen<BR>&nbsp; 
In/Out：In<BR>&nbsp; 类型：整数型<BR>&nbsp; 可空：N<BR>&nbsp; 
意思：输入媒体数据大小<BR>&nbsp;参数.五：pSt_PacketInfo<BR>&nbsp; In/Out：In<BR>&nbsp; 
类型：数据结构指针<BR>&nbsp; 可空：Y<BR>&nbsp; 
意思：输入数据的媒体包信息<BR>&nbsp;参数.六：pdlAVTime<BR>&nbsp; In/Out：In<BR>&nbsp; 
类型：浮点型指针<BR>&nbsp; 可空：Y<BR>&nbsp; 意思：输出打包的媒体时间<BR>&nbsp;参数.七：bWait<BR>&nbsp; 
In/Out：In<BR>&nbsp; 类型：逻辑型<BR>&nbsp; 可空：Y<BR>&nbsp; 
意思：输入是否使用系统等待<BR>&nbsp;参数.八：bChanged<BR>&nbsp; In/Out：In<BR>&nbsp; 
类型：逻辑型<BR>&nbsp; 可空：Y<BR>&nbsp; 意思：这次输入是否是新的流(流切换)</P>
<P></P>
<H1>返回值</H1>
<P>类型：逻辑型<BR>意思：是否成功</P>
<H1>备注</H1>
<P>切换流会导致pts时间戳变换,bChanged必须设置为真,否则会导致输出的流时间戳不连续</P>
<P>lpszMSGBuffer支持设置NULL,nMSGLen = 
0,表示刷新内部写数据缓冲区,一般切换文件使用</P>
<H1>示例</H1></body>
</html>
