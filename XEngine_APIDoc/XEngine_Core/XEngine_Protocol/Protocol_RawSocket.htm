<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Protocol_RawSocket</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body>
<P>功能分区:原始套接字 </P>
<P>兼容系统:Linux MacOS Windows Android IOS </P>
<P>所属项目:XEngine</P>
<P>所属组件:XEngine_Core</P>
<P>所属模块:XEngine_Protocol</P>
<P>所属结构:无</P>
<DIV 
style="FONT-SIZE: 12px; FONT-FAMILY: Consolas, 'Courier New', monospace; WHITE-SPACE: pre; FONT-WEIGHT: normal; COLOR: #000000; LINE-HEIGHT: 16px; BACKGROUND-COLOR: #fffffe">
<DIV><SPAN 
style="COLOR: #008000">/************************************************************************/</SPAN></DIV>
<DIV><SPAN style="COLOR: #008000">/* 原始套接字编程数据结构参数 */</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #008000">/************************************************************************/</SPAN></DIV>
<DIV><SPAN style="COLOR: #0000ff">typedef</SPAN><SPAN style="COLOR: #000000"> 
</SPAN><SPAN style="COLOR: #0000ff">struct</SPAN><SPAN style="COLOR: #000000"> 
tag_Protocol_RawSocket_NetParam</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">{</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;CHAR 
tszSrcMac[</SPAN><SPAN style="COLOR: #09885a">8</SPAN><SPAN 
style="COLOR: #000000">]; </SPAN><SPAN 
style="COLOR: #008000">//原始MAC地址(ARP协议需要)</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;CHAR 
tszDstMac[</SPAN><SPAN style="COLOR: #09885a">8</SPAN><SPAN 
style="COLOR: #000000">]; </SPAN><SPAN 
style="COLOR: #008000">//目的MAC地址</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;CHAR 
tszSrcAddr[</SPAN><SPAN style="COLOR: #09885a">64</SPAN><SPAN 
style="COLOR: #000000">]; </SPAN><SPAN 
style="COLOR: #008000">//原始地址</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;CHAR 
tszDstAddr[</SPAN><SPAN style="COLOR: #09885a">64</SPAN><SPAN 
style="COLOR: #000000">]; </SPAN><SPAN 
style="COLOR: #008000">//目标地址</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN style="COLOR: #000000"> nSPort; 
</SPAN><SPAN style="COLOR: #008000">//原端口</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN style="COLOR: #000000"> nDPort; 
</SPAN><SPAN style="COLOR: #008000">//目标端口</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN style="COLOR: #000000"> nIDProfile; 
</SPAN><SPAN style="COLOR: #008000">//IP头标志,可为空</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN style="COLOR: #000000"> nIPProto; 
</SPAN><SPAN style="COLOR: #008000">//响应的协议类型</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;USHORT usTTL; 
</SPAN><SPAN style="COLOR: #008000">//TTL节点</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;USHORT usLen; 
</SPAN><SPAN 
style="COLOR: #008000">//负载数据包大小，如果没有填入0,解析返回代表协议大小,只需要移动后就是数据了</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #008000">//负载协议</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">struct</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;{</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN style="COLOR: #000000"> nWinSize; 
</SPAN><SPAN style="COLOR: #008000">//滑动窗口大小</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN style="COLOR: #000000"> nSequeue; 
</SPAN><SPAN style="COLOR: #008000">//当前序列号</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN style="COLOR: #000000"> nAck; 
</SPAN><SPAN style="COLOR: #008000">//确认号</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint8_t 
nFlag; </SPAN><SPAN style="COLOR: #008000">//协议子类型</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;}st_TCPHdr;</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">struct</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;{</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN style="COLOR: #000000"> nSequeue; 
</SPAN><SPAN style="COLOR: #008000">//包序列号</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint8_t 
nFlag; </SPAN><SPAN style="COLOR: #008000">//协议子类型</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;}st_ICMPHdr;</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">struct</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;{</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint16_t 
nFlag; </SPAN><SPAN style="COLOR: #008000">//协议子类型</SPAN></DIV>
<DIV><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;}st_ARPHdr;</SPAN></DIV>
<DIV><SPAN style="COLOR: #000000">}PROTOCOL_RAWSOCKET_NETPARAM, * 
LPPROTOCOL_RAWSOCKET_NETPARAM;</SPAN></DIV></DIV>
<P>&nbsp;</P></body>
</html>
